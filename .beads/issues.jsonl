{"id":"ahoy-4sp","title":"Explore native macOS notification integration","description":"Explore using native macOS APIs (UNUserNotificationCenter) instead of terminal-notifier.\n\n## Benefits of native integration:\n- No external dependency on terminal-notifier\n- Full control over notification appearance\n- Proper bundle identity without workarounds\n- Could support action buttons, images, etc.\n\n## Challenges identified:\n- objc2-user-notifications block2 API is complex\n- Requires proper app bundle or embedded Info.plist\n- Code signing requirements\n- mac-notification-sys hangs in launchd daemon context\n\n## Research needed:\n- Working examples of objc2-user-notifications\n- How to properly construct blocks with block2 crate\n- Alternative: Swift helper binary that Rust calls\n- Alternative: Objective-C helper via FFI\n\n## Current working solution:\nterminal-notifier with -sender flag (on main branch)","status":"in_progress","priority":3,"issue_type":"feature","created_at":"2026-01-14T23:01:35.420772-05:00","created_by":"robert.roskam","updated_at":"2026-01-14T23:38:45.799212-05:00"}
{"id":"ahoy-ana","title":"Phase 1: Foundation - Initialize Cargo project and basic CLI","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T10:54:24.86817-05:00","created_by":"robert.roskam","updated_at":"2026-01-14T12:10:24.82588-05:00","closed_at":"2026-01-14T12:10:24.82588-05:00","close_reason":"Completed Phase 1: Cargo project initialized with tokio/clap/serde. Unix socket daemon and client working end-to-end."}
{"id":"ahoy-cit","title":"Improve notification visibility and context","description":"## Problem\nNotifications work but go silently to Notification Center instead of appearing as visible banners with sound (like Slack notifications).\n\n## Root Cause\n1. **Missing Bundle Identity**: UNUserNotificationCenter requires CFBundleIdentifier\n2. **Code Signing**: Modern notification API requires signed executables\n3. **Notification Style Control**: macOS controls banner vs silent per-app\n\n## Solution: Embed Info.plist + Code Sign\n\n**Files to modify:**\n- Cargo.toml: Add embed_plist = \"1\"\n- Info.plist (new): Bundle identity (rs.ahoy.daemon)\n- src/main.rs: Add embed_plist::embed_info_plist!() macro\n- src/notify/macos.rs: Use UNUserNotificationCenter with authorization\n\n**Deploy steps:**\n1. cargo build --release\n2. cp target/release/ahoy ~/.ahoy/bin/\n3. codesign -fs - ~/.ahoy/bin/ahoy\n4. ahoy service restart\n\n**User config (one-time):**\nSystem Settings \u003e Notifications \u003e Ahoy \u003e Style: Banners\n\n## Verification\n- Send test notification\n- Check System Settings for \"Ahoy\" entry\n- Verify banner appears with sound","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T16:32:42.112209-05:00","created_by":"robert.roskam","updated_at":"2026-01-14T23:00:21.359145-05:00","closed_at":"2026-01-14T23:00:21.359145-05:00","close_reason":"Fixed - terminal-notifier with -ignoreDnD flag works. User had DND enabled which was suppressing banners."}
{"id":"ahoy-d1a","title":"Phase 2: Notifications - macOS notification support","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T10:54:32.630136-05:00","created_by":"robert.roskam","updated_at":"2026-01-14T13:09:41.155298-05:00","closed_at":"2026-01-14T13:09:41.155298-05:00","close_reason":"Completed Phase 2: Native macOS notifications via Ahoy.app bundle. App registers with LaunchServices and appears in System Settings \u003e Notifications.","dependencies":[{"issue_id":"ahoy-d1a","depends_on_id":"ahoy-ana","type":"blocks","created_at":"2026-01-14T10:55:42.449674-05:00","created_by":"robert.roskam"}]}
{"id":"ahoy-fd3","title":"Phase 3: Service Management - launchd integration","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T10:54:34.908456-05:00","created_by":"robert.roskam","updated_at":"2026-01-14T13:40:26.071835-05:00","closed_at":"2026-01-14T13:40:26.071835-05:00","close_reason":"Completed Phase 3: launchd service management. 'ahoy service install/uninstall/start/stop/restart/status' commands working. Daemon auto-starts on login with KeepAlive.","dependencies":[{"issue_id":"ahoy-fd3","depends_on_id":"ahoy-d1a","type":"blocks","created_at":"2026-01-14T10:55:42.525993-05:00","created_by":"robert.roskam"}]}
{"id":"ahoy-hkr","title":"Phase 4: Claude Code Integration - hook installer","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T10:54:37.626719-05:00","created_by":"robert.roskam","updated_at":"2026-01-14T15:48:59.91827-05:00","closed_at":"2026-01-14T15:48:59.91827-05:00","close_reason":"Completed Phase 4: Claude Code hook integration. 'ahoy install claude' adds Stop hook to settings.json. 'ahoy install --status' shows installed hooks. 'ahoy uninstall claude' removes the hook.","dependencies":[{"issue_id":"ahoy-hkr","depends_on_id":"ahoy-fd3","type":"blocks","created_at":"2026-01-14T10:55:42.602177-05:00","created_by":"robert.roskam"}]}
{"id":"ahoy-qfp","title":"Phase 5: Installer - curl install script and releases","description":"Install script that builds from GitHub main branch directly. Script should: 1) Check for/install Rust if needed, 2) Clone repo from GitHub, 3) Build with cargo, 4) Install to ~/.ahoy/bin, 5) Set up launchd service, 6) Update PATH. No pre-built binaries for now - build from source.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-14T10:54:40.904726-05:00","created_by":"robert.roskam","updated_at":"2026-01-14T16:31:58.595011-05:00","dependencies":[{"issue_id":"ahoy-qfp","depends_on_id":"ahoy-hkr","type":"blocks","created_at":"2026-01-14T10:55:42.673326-05:00","created_by":"robert.roskam"}]}
